import{b as l}from"./init-ad207eca.js";console.log("Script started successfully");function s(o,e,r,a){WA.room.area.onEnter(o).subscribe(()=>{const n=WA.ui.displayActionMessage({message:e,callback:()=>{WA.ui.modal.openModal({title:r,src:a,allow:"fullscreen",allowApi:!0,position:"center"})}});WA.room.area.onLeave(o).subscribe(()=>{n.remove()})})}function t(o,e,r,a){WA.room.onEnterLayer(o).subscribe(()=>{const n=WA.ui.displayActionMessage({message:e,callback:()=>{WA.ui.modal.openModal({title:r,src:a,allow:"fullscreen",allowApi:!0,position:"center"})}});WA.room.onLeaveLayer(o).subscribe(()=>{n.remove()})})}async function i(){const e=document.getElementById("code").value.trim(),r=document.getElementById("ergebnis");try{const a=await fetch("https://javabotchi.kunst-werk-hagen.de/apiTest.php?name=PhoneCode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eingabe:e})});if(!a.ok)throw new Error("Netzwerkantwort war nicht ok.");const n=await a.json();n.result==="Korrekt!"?(r.innerHTML=`<p style="color: green;">${n.result}</p>`,r.innerHTML='<p>"Na Super! Kein Empfang. Ich brauche ein Telefon!"</p>',WA.room.showLayer("aktionTelefon"),WA.room.hideLayer("blockTelefon"),setTimeout(()=>{WA.ui.modal.closeModal()},4e3)):r.innerHTML=`<p style="color: red;">${n.result}</p>`}catch(a){r.innerHTML='<p><span style="font-family: pokemon;" class="dBlau-font">Fehler:</span> <br> Fehler beim Überprüfen des Zahlenschlosses. Bitte versuche es später erneut.</p>',console.error("Es gab ein Problem mit der Anfrage:",a)}}WA.onInit().then(()=>{console.log("Scripting API ready"),console.log("Player tags: ",WA.player.tags),s("areaTerminal","Drücke 'SPACE' um das Hauptmenü zu öffnen","Hauptmenü","./menue.html"),s("areaLadekabel","Drücke 'SPACE' um dein Handy zu laden","Ladekabel","./levelDreiBrute.html"),s("areaPoster","Drücke 'SPACE' um das Poster anzuschauen","Ladekabel","./levelDreiSeerosen.html"),t("hinweis","Drücke 'SPACE' um den Hinweis zu Öffnen","Ladekabel","./levelDreiHinweis.html"),WA.room.area.onEnter("areaTelefonbuch").subscribe(()=>{WA.room.showLayer("magentaTelBuch");const e=WA.ui.displayActionMessage({message:"Drücke 'SPACE' um das Telefonbuch zu öffnen",callback:()=>{WA.ui.modal.openModal({title:"Telefonbuch",src:"./levelDreiTelBuch.html",allow:"fullscreen",allowApi:!0,position:"center"})}});WA.room.area.onLeave("areaTelefonbuch").subscribe(()=>{WA.room.hideLayer("magentaTelBuch"),e.remove()})}),WA.room.area.onEnter("areaTelefon").subscribe(()=>{const e=WA.ui.displayActionMessage({message:"Drücke 'SPACE' um das Telefon zu benutzen",callback:()=>{WA.ui.modal.openModal({title:"Telefonbuch",src:"./levelDreiTelefon.html",allow:"fullscreen",allowApi:!0,position:"center"})}});WA.room.area.onLeave("areaTelefon").subscribe(()=>{e.remove()})}),WA.room.area.onEnter("areaLadekabel").subscribe(()=>{WA.room.showLayer("magentaKabel")}),WA.room.area.onLeave("areaLadekabel").subscribe(()=>{WA.room.hideLayer("magentaKabel")}),WA.room.area.onEnter("areaInfoVid").subscribe(()=>{WA.room.showLayer("aktionVideo"),WA.room.hideLayer("blockVideo");const e=WA.ui.displayActionMessage({message:"Drücke 'SPACE' um die Information zu lesen",callback:()=>{WA.ui.modal.openModal({title:"Info",src:"./levelDreiTelefon.html",allow:"fullscreen",allowApi:!0,position:"center"})}});WA.room.area.onLeave("areaInfoVid").subscribe(()=>{e.remove()})}),WA.room.area.onEnter("areaVideo").subscribe(()=>{const e=WA.ui.displayActionMessage({message:"Drücke 'SPACE' um die Überwachungsvideos anzusehen",callback:()=>{WA.ui.modal.openModal({title:"Info",src:"./levelDreiVideo.html",allow:"fullscreen",allowApi:!0,position:"center"})}});WA.room.area.onLeave("areaVideo").subscribe(()=>{e.remove()})}),WA.room.onEnterLayer("aktionTuer").subscribe(()=>{const e=WA.ui.displayActionMessage({message:"Drücke 'SPACE' um den Flur zu betreten",callback:()=>{WA.room.setProperty("aktionTuer","exitSceneUrl","flur.tmj")}});WA.room.onLeaveLayer("aktionTuer").subscribe(()=>{e.remove()})}),document.getElementById("codeBtn").addEventListener("click",i),l().then(()=>{console.log("Scripting API Extra ready")}).catch(e=>console.error(e))}).catch(o=>console.error(o));
//# sourceMappingURL=levelDreiMain-c12bff27.js.map
