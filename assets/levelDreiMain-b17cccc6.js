import{b as l}from"./init-ad207eca.js";console.log("Script started successfully");let a="./menue.html";function s(e,r,t,o){WA.room.area.onEnter(e).subscribe(()=>{const n=WA.ui.displayActionMessage({message:r,callback:()=>{WA.ui.modal.openModal({title:t,src:o,allow:"fullscreen",allowApi:!0,position:"center"})}});WA.room.area.onLeave(e).subscribe(()=>{n.remove()})})}async function c(){const r=document.getElementById("code").value.trim(),t=document.getElementById("ergebnis");try{const o=await fetch("https://javabotchi.kunst-werk-hagen.de/apiTest.php?name=PhoneCode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eingabe:r})});if(!o.ok)throw new Error("Netzwerkantwort war nicht ok.");const n=await o.json();n.result==="Korrekt!"?(t.innerHTML=`<p style="color: green;">${n.result}</p>`,a="./levelDreiBrute.html",console.log(a),setTimeout(()=>{WA.ui.modal.closeModal()},3e3)):t.innerHTML=`<p style="color: red;">${n.result}</p>`}catch(o){t.innerHTML='<p><span style="font-family: pokemon;" class="dBlau-font">Fehler:</span> <br> Fehler beim Überprüfen des Zahlenschlosses. Bitte versuche es später erneut.</p>',console.error("Es gab ein Problem mit der Anfrage:",o)}}WA.onInit().then(()=>{console.log("Scripting API ready"),console.log("Player tags: ",WA.player.tags),s("areaTerminal","Drücke 'SPACE' um das Hauptmenü zu öffne","Hauptmenü",a),s("areaLadekabel","Drücke 'SPACE' um dein Handy zu laden","Ladekabel","./levelDreiBrute.html"),WA.room.area.onEnter("areaLadekabel").subscribe(()=>{WA.room.showLayer("magentaKabel")}),WA.room.area.onLeave("areaLadekabel").subscribe(()=>{WA.room.hideLayer("magentaKabel")}),document.getElementById("codeBtn").addEventListener("click",c),l().then(()=>{console.log("Scripting API Extra ready")}).catch(r=>console.error(r))}).catch(e=>console.error(e));
//# sourceMappingURL=levelDreiMain-b17cccc6.js.map
