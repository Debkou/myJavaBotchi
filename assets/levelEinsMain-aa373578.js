import{b as l}from"./init-ad207eca.js";console.log("Script started successfully");function i(e,s,t,r){WA.room.area.onEnter(e).subscribe(()=>{const n=WA.ui.displayActionMessage({message:s,callback:()=>{WA.ui.modal.openModal({title:t,src:r,allow:"fullscreen",allowApi:!0,position:"center"})}});WA.room.area.onLeave(e).subscribe(()=>{n.remove()})})}WA.onInit().then(()=>{console.log("Scripting API ready"),console.log("Player tags: ",WA.player.tags),WA.ui.modal.openModal({title:"Licht Eingabe",src:"./levelEinsLicht.html",allow:"fullscreen",allowApi:!0,position:"center"}),i("areaAktionTerminal","Drücke 'SPACE' um das Hauptmenü zu öffnen","Terminal","./menue.html"),WA.room.area.onEnter("areaAktionGitter").subscribe(()=>{const t=WA.ui.displayActionMessage({message:"Drücke 'SPACE' um die Tür zu öffnen",callback:()=>{WA.ui.modal.openModal({title:"Gittertür",src:"./levelEinsGitter.html",allow:"fullscreen",allowApi:!0,position:"center"})}});WA.room.area.onLeave("areaAktionGitter").subscribe(()=>{t.remove()})});async function e(){const r=document.getElementById("eingabefenster").value.trim(),n=document.getElementById("textContainer");try{const o=await fetch("https://javabotchi.kunst-werk-hagen.de/apiTest.php?name=LichttAn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eingabe:r})});if(!o.ok)throw new Error("Netzwerkantwort war nicht ok.");const a=await o.json();a.result==="Korrekt!"?(n.innerHTML+=`<p><span style="font-family: pokemon;" class="dBlau-font">Alexa:</span> <br> ${a.result}</p>`,n.innerHTML+="<p>Das Licht geht an!</p>",WA.room.hideLayer("dunkel"),setTimeout(()=>{WA.ui.modal.closeModal()},3e3)):n.innerHTML+=`<p><span style="font-family: pokemon;" class="dBlau-font">Alexa:</span> <br> ${a.result}</p>`}catch(o){n.innerHTML+='<p><span style="font-family: pokemon;" class="dBlau-font">Fehler:</span> <br> Fehler beim Überprüfen des Passworts. Bitte versuche es später erneut.</p>',console.error("Es gab ein Problem mit der Anfrage:",o)}}document.getElementById("lichtButton").addEventListener("click",e),l().then(()=>{console.log("Scripting API Extra ready")}).catch(t=>console.error(t))}).catch(e=>console.error(e));
//# sourceMappingURL=levelEinsMain-aa373578.js.map
