import{b as s}from"./init-ad207eca.js";console.log("Script started successfully");function a(t,r,e,n){WA.room.area.onEnter(t).subscribe(()=>{const o=WA.ui.displayActionMessage({message:r,callback:()=>{WA.ui.modal.openModal({title:e,src:n,allow:"fullscreen",allowApi:!0,position:"center"})}});WA.room.area.onLeave(t).subscribe(()=>{o.remove()})})}async function l(){const r=document.getElementById("code").value.trim(),e=document.getElementById("ergebnis");try{const n=await fetch("https://javabotchi.kunst-werk-hagen.de/apiTest.php?name=PhoneCode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eingabe:r})});if(!n.ok)throw new Error("Netzwerkantwort war nicht ok.");const o=await n.json();o.result==="Korrekt!"?(e.innerHTML=`<p style="color: green;">${o.result}</p>`,e.innerHTML='<p>"Na Super! Kein Empfang. Ich brauche ein Telefon!"</p>',WA.room.showLayer("aktionTelefon"),WA.room.setProperty("aktionTelefon","openWebsite","./levelDreiTelefon.html"),setTimeout(()=>{WA.ui.modal.closeModal()},4e3)):e.innerHTML=`<p style="color: red;">${o.result}</p>`}catch(n){e.innerHTML='<p><span style="font-family: pokemon;" class="dBlau-font">Fehler:</span> <br> Fehler beim Überprüfen des Zahlenschlosses. Bitte versuche es später erneut.</p>',console.error("Es gab ein Problem mit der Anfrage:",n)}}async function i(){const r=document.getElementById("nummer").value.trim(),e=document.getElementById("ergebnis");try{const n=await fetch("https://javabotchi.kunst-werk-hagen.de/apiTest.php?name=Telefonnummer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eingabe:r})});if(!n.ok)throw new Error("Netzwerkantwort war nicht ok.");const o=await n.json();o.result==="Korrekt!"?(e.innerHTML=`<p style="color: green;">${o.result}</p>`,setTimeout(()=>{WA.ui.modal.closeModal()},4e3)):e.innerHTML=`<p style="color: red;">${o.result}</p>`}catch(n){e.innerHTML='<p><span style="font-family: pokemon;" class="dBlau-font">Fehler:</span> <br> Fehler beim Überprüfen des Zahlenschlosses. Bitte versuche es später erneut.</p>',console.error("Es gab ein Problem mit der Anfrage:",n)}}WA.onInit().then(()=>{console.log("Scripting API ready"),console.log("Player tags: ",WA.player.tags),WA.room.area.onEnter("test").subscribe(()=>{const e=WA.ui.displayActionMessage({message:"Drücke 'SPACE' um die Hinweise zu öffnen",callback:()=>{WA.room.showLayer("testEbene"),WA.room.setProperty("testEbene","openWebsite","menue.html")}});WA.room.area.onLeave("test").subscribe(()=>{WA.room.hideLayer("testEbene"),WA.room.setProperty("testEbene","openWebsite",""),e.remove()})}),WA.room.area.onEnter("areaTelefonbuch").subscribe(()=>{WA.room.showLayer("MagentaTelBuch");const e=WA.ui.displayActionMessage({message:"Drücke 'SPACE' um das Telefonbuch zu Öffnen",callback:()=>{WA.ui.modal.openModal({title:"Telefonbuch",src:"./levelDreiTelBuch.html",allow:"fullscreen",allowApi:!0,position:"center"})}});WA.room.area.onLeave("areaTelefonbuch").subscribe(()=>{WA.room.hideLayer("MagentaTelBuch"),e.remove()})}),a("areaTerminal","Drücke 'SPACE' um das Hauptmenü zu öffnen","Hauptmenü","./menue.html"),a("areaLadekabel","Drücke 'SPACE' um dein Handy zu laden","Ladekabel","./levelDreiBrute.html"),WA.room.area.onEnter("areaLadekabel").subscribe(()=>{WA.room.showLayer("magentaKabel")}),WA.room.area.onLeave("areaLadekabel").subscribe(()=>{WA.room.hideLayer("magentaKabel")}),document.getElementById("codeBtn").addEventListener("click",l),document.getElementById("nummerBtn").addEventListener("click",i),s().then(()=>{console.log("Scripting API Extra ready")}).catch(e=>console.error(e))}).catch(t=>console.error(t));
//# sourceMappingURL=levelDreiMain-c3b75ed0.js.map
